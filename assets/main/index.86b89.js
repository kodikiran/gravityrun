window.__require=function e(t,n,a){function o(r,s){if(!n[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){return o(t[r][1][e]||e)},d,d.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({Bee:[function(e,t){"use strict";cc._RF.push(t,"34ce0YPb/pDuIdCkb/d8pVc","Bee"),cc.Class({extends:cc.Component,properties:{speed:-20,yspeed:10},start:function(){this.movement()},update:function(e){Global.isGameOver||Global.isGamePaused||(this.node.x+=this.speed*e)},movement:function(){var e=cc.tween().by(1,{position:cc.v2(-1e3,100,0)}).by(1,{position:cc.v2(-1e3,-100,0)});cc.tween(this.node).repeatForever(e).start()}}),cc._RF.pop()},{}],GameManager:[function(e,t){"use strict";cc._RF.push(t,"e5cdbJ7Y1hNu687TfFFMX07","GameManager"),e("MxPlayer");var n=cc.Class({extends:cc.Component,editor:{executionOrder:-1},properties:{},statics:{_instance:null},onLoad:function(){this.CocosPreInitialization(),n._instance=this},start:function(){},CocosPreInitialization:function(){cc.view.enableAutoFullScreen(!1);var e=cc.director.getPhysicsManager();e.enabled=!0,e.gravity=cc.v2(0,-1960)}});cc._RF.pop()},{MxPlayer:"MxPlayer"}],Global:[function(e,t){"use strict";cc._RF.push(t,"79129FArjFKgIyMdkgbEAFp","Global"),window.Global={isGamePlaying:!1,isGamePaused:!1,isGameOver:!1},cc._RF.pop()},{}],InputHandler:[function(e,t){"use strict";cc._RF.push(t,"260eeNQvS1Fx6k4qYmnwrlC","InputHandler"),cc.Class({extends:cc.Component,properties:{Player:{default:null,type:cc.Node},PlayerPosition:0},onLoad:function(){this.PlayerPosition=this.Player.y,this.node.on(cc.Node.EventType.TOUCH_START,function(e){Global.isGameOver||(e.getTouches()[0].getLocation(),this.FlipPlayer())},this)},start:function(){},update:function(){},FlipPlayer:function(){this.Player.y*=-1,this.Player.scaleY*=-1}}),cc._RF.pop()},{}],MovementTrigger:[function(e,t){"use strict";cc._RF.push(t,"9109eybdVxBNa3y1ENzgRtu","MovementTrigger");var n=e("ScoreManager"),a=e("UiController");cc.Class({extends:cc.Component,properties:{},start:function(){},onCollisionEnter:function(){n._instance.gameScore+=1,a._instance.UpdateScore(n._instance.gameScore)}}),cc._RF.pop()},{ScoreManager:"ScoreManager",UiController:"UiController"}],MxPlayerEventManager:[function(e,t){"use strict";cc._RF.push(t,"64ff2UAbCdBZIxlA1Nm+B0U","MxPlayerEventManager"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],MxPlayer:[function(e,t){"use strict";cc._RF.push(t,"fbe690EsNJGNZBCEgznbdVL","MxPlayer");var n=cc.Class({extends:cc.Component,properties:{statictesting:!0},statics:{_instance:null},onLoad:function(){n._instance=this},start:function(){},OnGameInit:function(){try{if("undefined"!=typeof gameManager){var e=gameManager.onGameInit(),t=JSON.parse(e);return t.userId,t.gameId,t.roomId,t.highestScore,t.gameMode,t.isFirstOpen,cc.sys.localStorage.setItem("userID",t.userId),cc.sys.localStorage.setItem("gameID",t.gameId),cc.sys.localStorage.setItem("roomID",t.roomId),t}}catch(n){console.log("Error Parsing Config")}},GameSettings:function(){var e={default:null,reviveScore:0,reviveEnabled:!0,reviveLives:1,reviveAdExistsDefault:!0,autoAd:!0,noDieScore:10,stickyBannersEnabled:!0,speed:300};if("undefined"==typeof gameManager)return e;try{var t=gameManager.getGameSettings();return JSON.parse(t)}catch(n){return e}},GameStart:function(){if("undefined"!=typeof gameManager)try{gameManager.onGameStart()}catch(e){gameManager.onError(e.stack.toString())}},ShowStickyAds:function(e){!0===e&&"undefined"!=typeof gameManager&&"function"==typeof gameManager.showStickyAds&&(cc.game.on("adShown",function(){console.log("showing sticky ads")}),cc.game.on("adNotShown",function(){}),gameManager.showStickyAds("bottom"))},MxPlayerGameStartData:function(){var e="first";if(null!=cc.sys.localStorage.getItem("isopen")&&(e="new"),"undefined"!=typeof gameManager)try{var t={userID:String(cc.sys.localStorage.getItem("userID")),gameID:String(cc.sys.localStorage.getItem("gameID")),roomID:String(cc.sys.localStorage.getItem("roomID")),startType:e},n=JSON.stringify(t);gameManager.onTrack("gameStart",n)}catch(a){gameManager.onError(a.stack.toString())}}});cc._RF.pop()},{}],ObjectDestroyer:[function(e,t){"use strict";cc._RF.push(t,"5ae41LdM/lMUqVcUN2B4OFd","ObjectDestroyer"),cc.Class({extends:cc.Component,properties:{},start:function(){},onCollisionEnter:function(e){e.node.destroy()}}),cc._RF.pop()},{}],ObstacleMovement:[function(e,t){"use strict";cc._RF.push(t,"1f232kk0nVEGI1fAZgRLJb7","ObstacleMovement"),cc.Class({extends:cc.Component,properties:{speed:-20,flipped:!1,monsterType:0,animation:null,isPlayingTween:!1,audioSource:null},start:function(){1==this.monsterType?this.BeeMovement():3==this.monsterType?this.Deactivate(this.node,!1):2==this.monsterType?this.node.getComponent(cc.Sprite).enabled=!1:4==this.monsterType?this.Rotation():5==this.monsterType||7==this.monsterType&&this.BeeStaticMotion()},update:function(e){Global.isGameOver||Global.isGamePaused?this.isPlayingTween&&null!=this.animation&&(console.log("in stopping animation function"),this.animation.stop(),this.isPlayingTween=!1):(this.isPlayingTween,this.node.x+=this.speed*e)},Rotation:function(){this.animation=cc.tween(this.node).by(.2,{angle:360}).repeatForever().start(),this.isPlayingTween=!0},Scaler:function(){cc.tween(this.node).by(1,{scale:1}).repeatForever().start()},BeeMovement:function(){this.isPlayingTween=!0;var e=100;this.flipped&&(e*=-1);var t=cc.tween().by(1,{y:e},{easing:"elasticInOut"}).by(1,{y:-e},{easing:"elasticInOut"});this.animation=cc.tween(this.node).repeatForever(t).start(),this.isPlayingTween=!0},onCollisionEnter:function(e){if(15==e.tag)switch(this.audioSource=this.node.getComponent(cc.AudioSource),null!=this.audioSource&&this.audioSource.play(),this.monsterType){case 3:this.ThornMovementOnTrigger();break;case 2:this.SingleThornMovement();break;case 5:this.KnifeMovement();break;case 6:this.BeeFlyAway()}},ThornMovementOnTrigger:function(){var e=200;this.flipped?this.node.y-=e:(this.node.y+=e,e*=-1);var t=this.node.scaleY;console.log(t),this.node.scaleY=0,3==this.monsterType&&this.Deactivate(this.node,!0),this.animation=cc.tween(this.node).by(.2,{scaleY:t,y:e}).start(),this.isPlayingTween=!0},Deactivate:function(e,t){for(var n=0;n<e.children.length;n++)e.children[n].active=t},SingleThornMovement:function(){var e=200;this.flipped?this.node.y-=e:(this.node.y+=e,e*=-1),this.node.getComponent(cc.Sprite).enabled=!0,this.animation=cc.tween(this.node).by(.4,{y:e},{easing:"expoIn"}).start(),this.isPlayingTween=!0},BeeStaticMotion:function(){var e=50;this.flipped&&(e*=-1);var t=cc.tween().by(.3,{y:e}).by(.4,{y:-e});this.animation=cc.tween(this.node).repeatForever(t).start(),this.isPlayingTween=!0},BeeFlyAway:function(){console.log("beeflyaway function called");var e=500;this.flipped&&(e*=-1),this.animation=cc.tween(this.node).by(.5,{y:e},{easing:"quartIn"}).start(),this.isPlayingTween=!0},KnifeMovement:function(){var e=60;this.flipped&&(e*=-1);var t=cc.tween().by(.3,{angle:e},{easing:"expoIn"}).by(.3,{angle:-e},{easing:"expoIn"});this.animation=cc.tween(this.node).repeatForever(t).start(),this.isPlayingTween=!0}}),cc._RF.pop()},{}],Player:[function(e,t){"use strict";cc._RF.push(t,"2697aESTHBPVahhWY6k6tpa","Player"),e("ScoreManager");var n=e("UiController");cc.Class({extends:cc.Component,properties:{playTime:0,gameOverOnce:!1,playerState:1,isShieldActive:!1,anim:null},onLoad:function(){var e=cc.director.getCollisionManager();this.anim=this.getComponent(cc.Animation),e.enabled=!0},start:function(){n._instance.PauseGame()},update:function(e){if(Global.isGameOver&&!this.gameOverOnce)return console.log(this.playTime),void(this.gameOverOnce=!0);this.playTime+=e},onCollisionEnter:function(e){if(3==e.tag){if(Global.isGameOver)return;3!=this.playerState?(Global.isGameOver=!0,this.Dead(),console.log("obstacle hit")):this.DeactivaeShield()}},onCollisionStay:function(){},onCollisionExit:function(){},Dead:function(){this.anim.stop(),n._instance.GameOver()},SetPlayerState:function(e){this.playerState=e,3==e&&(this.isShieldActive=!0)}}),cc._RF.pop()},{ScoreManager:"ScoreManager",UiController:"UiController"}],ScoreManager:[function(e,t){"use strict";cc._RF.push(t,"27fdb1dvgJDxIpU1FeFutHa","ScoreManager");var n=cc.Class({extends:cc.Component,properties:{gameScore:0},statics:{_instance:null},onLoad:function(){n._instance=this},start:function(){}});cc._RF.pop()},{}],SpawnManager:[function(e,t){(function(n){"use strict";cc._RF.push(t,"5bfdfYdqKZLNKneLLmEcGTS","SpawnManager");var a=e("ScoreManager");cc.Class({extends:cc.Component,properties:{obstacles:{default:[],type:cc.Prefab},widthOfObstacles:{default:[],type:cc.Float},positionY:{default:[],type:cc.Float},canBeFlipped:{default:[],type:cc.Bool},obstacleParent:{default:null,type:cc.Node},skipCount:{default:[],type:cc.Integer},previousObjectPosition:cc.v2(0,0),previousObject:null,previousObjectwidth:32,gap:300,skip:0,count:0,gameOverOnce:!1,currentLevel:1,scoreThresholdForLevel2:30},start:function(){this.previousObject=this.node},update:function(){n.isGameOver&&!this.gameOverOnce&&(console.log("no of obstacles genrated "+this.count),this.gameOverOnce=!0)},SyncAllChildren:function(e){for(var t=0;t<e.children.length;t++){var n=e.children[t].getComponent(cc.RigidBody);null!=n&&n.syncPosition(),this.SyncAllChildren(e.children[t])}},SpawnObstacle:function(){var e=Math.round(this.GetRandom(0,this.widthOfObstacles.length-1));if(0==this.skip){2!=this.currentLevel&&(e=Math.round(this.GetRandom(0,8))),2!=this.currentLevel&&a._instance.gameScore>this.scoreThresholdForLevel2&&(console.log("Now in level 2"),this.currentLevel=2);var t=Math.round(this.GetRandom(0,2)),n=this.positionY[e];t&&(n*=-1),this.previousObjectPosition=this.GetNextPosition(this.widthOfObstacles[e],n);var o=this.CreateObject(this.previousObjectPosition,this.obstacles[e]);this.previousObject=o;var i=o.getComponent("ObstacleMovement");this.skip=this.skipCount[e],null!=i&&(i.flipped=t),t&&this.FlipObject(o),this.previousObjectwidth=this.widthOfObstacles[e]}else this.skip-=1},GetNextPosition:function(e,t){var n=this.node.x+this.previousObjectwidth+this.gap+e/2,a=t;return cc.v2(n,a)},CreateObject:function(e,t){var n=cc.instantiate(t);return n.parent=this.obstacleParent,n.setPosition(e),this.SyncAllChildren(n),n},FlipObject:function(e){e.scaleY*=-1},GetRandom:function(e,t){return Math.random()*(t-e)+e},onCollisionEnter:function(e){3==e.tag&&(this.count+=1,this.previousObjectwidth=e.node.width,this.SpawnObstacle())}}),cc._RF.pop()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{ScoreManager:"ScoreManager"}],UiController:[function(e,t){"use strict";cc._RF.push(t,"03e5esqE4pCuKmsaEXQ4g3p","UiController");var n=cc.Class({extends:cc.Component,properties:{scoreLabel:{default:null,type:cc.Label},gameOverMenu:{default:null,type:cc.Node},inGameMenu:{default:null,type:cc.Node},startMenu:{default:null,type:cc.Node},shieldPowerAdMenu:{default:null,type:cc.Node}},statics:{_instance:null},onLoad:function(){n._instance=this},start:function(){},UpdateScore:function(e){this.scoreLabel.string=e},ShouldActivate:function(e,t){switch(e){case"gameOverMenu":this.gameOverMenu.active=t;break;case"inGameMenu":this.inGameMenu.active=t;break;case"startMenu":this.startMenu.active=t}},PauseGame:function(){Global.GameOver||(Global.GamePause=!0,cc.director.pause())},ResumeGame:function(){cc.director.resume(),Global.GamePause=!1},PlayButton:function(){Global.isGameOver=!1,this.ResumeGame(),this.ShouldActivate("startMenu",!1),this.ShouldActivate("inGameMenu",!0)},GameOver:function(){console.log("GameOver fucntion called"),this.ShouldActivate("inGameMenu",!1),this.ShouldActivate("gameOverMenu",!0)},RestartGame:function(){cc.director.loadScene("MainGame")}});cc._RF.pop()},{}],"mx-game-emulator":[function(e,t){"use strict";cc._RF.push(t,"bfaabDEdItGqqeOCYZBxI2X","mx-game-emulator");var n={onGameInit:function(){return JSON.stringify({roomId:"roomId3",gameId:"gameId1",userId:"userId2",highestScore:0,isFirstOpen:!0})},onGameStart:function(){this.errorHandled||(console.log("in gameStart"),i(),this.gameStarted=!0,o("Removing Loading Screen","gameManager.onGameStart implementation working fine"),setTimeout(function(){document.getElementById("full-overlay").classList.add("close")},1e3))},getGameSettings:function(){return{default:null,reviveScore:0,reviveEnabled:!0,reviveLives:1,reviveAdExistsDefault:!0,autoAd:!0,noDieScore:10,stickyBannersEnabled:!0}},onTrack:function(e,t){if(!this.errorHandled){if(!this.gameStarted)return this.errorHandled=!0,o("Error","gameManager.onTrack called before gameManager.onGameStart"),void document.getElementById("full-overlay").classList.remove("close");console.log("Tracking",e,t)}},onError:function(e){if(!this.errorHandled){if(!this.gameStarted)return this.errorHandled=!0,o("Error","gameManager.onError called before gameManager.onGameStart"),void document.getElementById("full-overlay").classList.remove("close");console.log("Error",e)}},onCheckRewardedVideoAds:function(e){if(!this.errorHandled){if(!this.gameStarted)return this.errorHandled=!0,o("Error","gameManager.onCheckRewardedVideoAds called before gameManager.onGameStart"),void document.getElementById("full-overlay").classList.remove("close");this.checkRewardedVideoAdsEvent=e,document.getElementById("partial-overlay-header").innerHTML="Event - "+e,document.getElementById("partial-overlay").classList.add("open")}},_adExistsCallback:function(){document.getElementById("partial-overlay").classList.remove("open"),window.cc.game.emit(this.checkRewardedVideoAdsEvent,{status:0})},_adNotExistCallback:function(){document.getElementById("partial-overlay").classList.remove("open"),window.cc.game.emit(this.checkRewardedVideoAdsEvent,{status:1})},onShowRewardedVideoAds:function(e){if(!this.errorHandled){if(!this.gameStarted)return this.errorHandled=!0,o("Error","gameManager.onShowRewardedVideoAds called before gameManager.onGameStart"),void document.getElementById("full-overlay").classList.remove("close");this.onShowRewardedVideoAdsEvent=e,o("AD Screen","gameManager.onShowRewardedVideoAds called");var t=document.getElementById("full-overlay");t.classList.add("ad-screen"),t.classList.remove("close")}},_adFullySeen:function(){var e=document.getElementById("full-overlay");e.classList.add("close"),e.classList.remove("ad-screen"),window.cc.game.emit(this.onShowRewardedVideoAdsEvent,{status:0})},_adFullyNotSeen:function(){var e=document.getElementById("full-overlay");e.classList.add("close"),e.classList.remove("ad-screen"),window.cc.game.emit(this.onShowRewardedVideoAdsEvent,{status:1})},onGameOver:function(e){if(!this.errorHandled){if(!this.gameStarted)return this.errorHandled=!0,o("Error","gameManager.onGameOver called before gameManager.onGameStart"),void document.getElementById("full-overlay").classList.remove("close");o("Game Over","gameManager.onGameOver called "+e),document.getElementById("full-overlay").classList.remove("close")}}};function a(){var e="\n        #full-overlay { \n            position: fixed;\n            top: 0px; \n            left: 0px; \n            width: 100%; \n            height: 100%; \n            z-index: 100000; \n            background-color: #3C8CF0; \n            transition: 0.5s transform;\n        } \n        #full-overlay.close { \n            transform: translateY(100%); \n        } \n        .full-overlay-content { \n            margin: 200px auto; \n            color: #fff; \n            text-align: center; width: 250px; \n            overflow: scroll;\n        } \n        #full-overlay-header { \n            font-size: 24px; \n        } \n        #full-overlay-subheader { \n            font-size: 14px; \n            margin: 30px 0; \n        }\n        .full-overlay-actionables {\n            display: none\n        }\n        #full-overlay.ad-screen .full-overlay-actionables{\n            display: block;\n        }\n        #partial-overlay { \n            position: fixed; \n            bottom: 0px;\n            left: 0px; \n            width: 100%; \n            height: 150px; \n            z-index: 110000; \n            background-color: #0f396e; \n            transform: translateY(100%);\n            transition: 0.5s transform; \n        }\n        #partial-overlay-header {\n            margin: 20px 0;\n        }\n        #partial-overlay.open { \n            transform: translateY(0); \n        }\n        .partial-overlay-content {\n            display: block;\n        }\n        .ad-checker {\n            background-color: transparent;\n            border: 1px solid #fff;\n            color: #fff;\n            border-radius: 5px;\n            padding: 5px 20px;\n            font-size: 16px;\n            display: block;\n            margin: 10px auto;\n            width: 200px;\n        }\n    ",t=document.querySelectorAll("head")[0],a=document.createElement("style");t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e));var o=document.createElement("div");o.id="full-overlay",o.innerHTML="\n        <div class=\"full-overlay-content\">\n            <div id=\"full-overlay-header\"></div>\n            <div id=\"full-overlay-subheader\"></div>\n            <div class=\"full-overlay-actionables\">\n                <div id='ad-seen' class='ad-checker'>Check Fully Seen flow</div>\n                <div id='ad-not-seen' class='ad-checker'>Check Not Fully Seen flow</div>\n            </div>\n        </div>\n    ";var i=document.createElement("div");i.id="partial-overlay",i.innerHTML="\n        <div class=\"partial-overlay-content\">\n            <div id=\"partial-overlay-header\"></div>\n            <div id='ad-exists' class='ad-checker'>Check Ad Exists flow</div>\n            <div id='ad-not-exists' class='ad-checker'>Check Ad Not Exists flow</div>\n        </div>\n    ";var r=document.querySelectorAll("body")[0];r.appendChild(o),r.appendChild(i),document.getElementById("ad-exists").addEventListener("click",n._adExistsCallback.bind(n)),document.getElementById("ad-not-exists").addEventListener("click",n._adNotExistCallback.bind(n)),document.getElementById("ad-seen").addEventListener("click",n._adFullySeen.bind(n)),document.getElementById("ad-not-seen").addEventListener("click",n._adFullyNotSeen.bind(n))}function o(e,t){document.getElementById("full-overlay-header").innerHTML=e,document.getElementById("full-overlay-subheader").innerHTML=t}function i(){console.log("on Game Load is called"),a(),o("Loading Screen","Will be removed when gameManager.onGameStart() is called !")}window.addEventListener("DOMContentLoaded",i),window.gameManager=n,cc._RF.pop()},{}]},{},["Bee","GameManager","Global","InputHandler","MovementTrigger","MxPlayer","MxPlayerEventManager","ObjectDestroyer","ObstacleMovement","Player","ScoreManager","SpawnManager","UiController","mx-game-emulator"]);